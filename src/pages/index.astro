---
import MainLayout from "../layouts/MainLayout.astro";
import Button from "../components/Button.astro";
import Link from "../components/Link.astro";
import { Image } from "astro:assets";
import thumbsup from "../assets/images/thumbsup.png";
---

<MainLayout title="Titel">
	<!------------------- Slider/Hero ------------------->
	<div class="relative overflow-hidden w-full">
		<!-- Slides -->
		<input class="carousel-open hidden" type="radio" id="carousel-1" name="carousel" aria-hidden="true" checked />
		<div class="carousel-item absolute opacity-0 transition-opacity duration-600 ease-out">
			<img src="/hero_1.webp" class="block w-full h-screen object-cover" />
			<div class="absolute inset-0 bg-neutral-1000/20"></div>
			<!-- Overlay -->
		</div>
		<input class="carousel-open hidden" type="radio" id="carousel-2" name="carousel" aria-hidden="true" />
		<div class="carousel-item absolute opacity-0 transition-opacity duration-600 ease-out">
			<img src="/hero_2.webp" class="block w-full h-screen object-cover" />
			<div class="absolute inset-0 bg-neutral-1000/20"></div>
			<!-- Overlay -->
		</div>
		<input class="carousel-open hidden" type="radio" id="carousel-3" name="carousel" aria-hidden="true" />
		<div class="carousel-item absolute opacity-0 transition-opacity duration-600 ease-out">
			<img src="/hero_3.webp" class="block w-full h-screen object-cover" />
			<div class="absolute inset-0 bg-neutral-1000/20"></div>
			<!-- Overlay -->
		</div>

		<!-- Navigation Bullets -->
		<div class="absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3 rtl:space-x-reverse">
			<button type="button" class="carousel-bullet w-3 h-3 rounded-full border-2 border-white" aria-current="true" aria-label="Slide 1" data-carousel-slide-to="0"></button>
			<button type="button" class="carousel-bullet w-3 h-3 rounded-full border-2 border-white" aria-current="false" aria-label="Slide 2" data-carousel-slide-to="1"></button>
			<button type="button" class="carousel-bullet w-3 h-3 rounded-full border-2 border-white" aria-current="false" aria-label="Slide 3" data-carousel-slide-to="2"></button>
		</div>

		<!-- Shared Text Overlay -->
		<article class="absolute inset-0 grid grid-cols-12 max-w-7xl mx-auto p-5 z-20 content-center">
			<div class="col-start-1 col-span-12 md:col-span-8">
				<div class="pb-6 md:pb-14">
					<h5 class="md:text-h5-desktop text-h5-mobile text-neutral-50 pb-2 md:pb-5">Lookbook 2025</h5>
					<h1 class="md:text-h1-desktop text-h3-mobile text-neutral-50 pb-2 md:pb-5">One sofa. Always evolving.</h1>
					<h5 class="md:text-h5-desktop text-h5-mobile text-neutral-50">Change the cover when the mood shifts. Add a module when life expands. TEDDY transforms with you – into a sofa, bed, or conversation pit – always ready for what’s next.</h5>
				</div>
				<Button variant="primary" size="medium md:large">Meet the original Teddy</Button>
				<Button variant="tertiary" size="medium md:large">Explore colors</Button>
			</div>
		</article>
	</div>

	<!------------------- Teddy Plus ------------------->
	<section class="max-w-7xl mx-auto p-5">
		<div class="md:pt-20 pt-10">
			<div class="flex items-center h-96 sticky top-0">
				<div class="grid grid-cols-12">
					<h1 class="md:text-h1-desktop text-h3-mobile text-center col-start-1 md:col-start-4 col-span-12 md:col-span-6">Introducing Teddy Plus – the three-seater designed for ultimate comfort and timeless style.</h1>
				</div>
			</div>
			<img class="sticky top-0" src="/teddy_plus_blue.webp" alt="Teddy Plus blue" />
		</div>
	</section>

	<!------------------- Before/After slider ------------------->
	<section class="grid grid-cols-12 max-w-7xl mx-auto p-5">
		<div class="col-start-1 col-span-12 md:col-span-6">
			<h3 class="text-h4-mobile md:text-h3-desktop">Sofa, bed, or conversation pit</h3>
			<p>Whether it’s lounging on the sofa, sharing stories with friends, or unwinding in a cozy bed at the end of the day, Teddy flexes to suit your needs. Seamlessly shifting from one function to the next.</p>
		</div>
	</section>

	<figure class="grid diff aspect-16/9" tabindex="0">
		<div class="diff-item-1" role="img" tabindex="0">
			<img alt="Teddy bed" src="/before_after_bed.webp" />
			<div class="absolute inset-0 bg-neutral-1000/20"></div>
			<h4 class="content-end py-3 md:py-5 pl-5 md:pl-28">Bed</h4>
		</div>
		<div class="grid diff-item-2" role="img">
			<img alt="Teddy sofa" src="/before_after_sofa.webp" />
			<div class="absolute inset-0 bg-neutral-1000/20"></div>
			<h4 class="content-end text-end py-3 md:py-5 pr-5 md:pr-28">Sofa</h4>
		</div>
		<div class="diff-resizer"></div>
	</figure>

	<!------------------- Horizontal Accordion ------------------->
	<div class="max-w-7xl mx-auto p-5">
		<div class="h-[600px] flex flex-nowrap justify-start">
			<input type="radio" name="slide" id="c1" checked class="hidden peer/c1" />
			<label for="c1" class="card peer-checked/c1:w-auto">
				<div class="row">
					<div class="icon">1</div>
					<div class="description">
						<h4 class="uppercase">Convertible design</h4>
						<p class="text-gray-400 pt-1">Effortlessly transitions between a sofa and a double bed, offering versatility for any space.</p>
					</div>
				</div>
			</label>
			<input type="radio" name="slide" id="c2" class="hidden peer/c2" />
			<label for="c2" class="card peer-checked/c2:w-auto">
				<div class="row">
					<div class="icon">2</div>
					<div class="description">
						<h4 class="uppercase">Durable build</h4>
						<p class="text-gray-400 pt-1">Crafted with high-quality materials to provide long-lasting support and reliability.</p>
					</div>
				</div>
			</label>
			<input type="radio" name="slide" id="c3" class="hidden peer/c3" />
			<label for="c3" class="card peer-checked/c3:w-auto">
				<div class="row">
					<div class="icon">3</div>
					<div class="description">
						<h4 class="uppercase">Comfort-focused</h4>
						<p class="text-gray-400 pt-1">Plush cushioning ensures maximum comfort for both sitting and sleeping.</p>
					</div>
				</div>
			</label>
			<input type="radio" name="slide" id="c4" class="hidden peer/c4" />
			<label for="c4" class="card peer-checked/c4:w-auto">
				<div class="row">
					<div class="icon">4</div>
					<div class="description">
						<h4 class="uppercase">Compact and stylish</h4>
						<p class="text-gray-400 pt-1">A sleek, modern design that complements any room while saving space.</p>
					</div>
				</div>
			</label>
		</div>
	</div>

	<style>
		/**************** Slider/Hero ****************/
		.carousel-open:checked + .carousel-item {
			position: static;
			opacity: 100;
		}

		.carousel-bullet {
			background-color: transparent;
			transition: background-color 0.3s ease;
		}

		.carousel-bullet[aria-current="true"] {
			background-color: white;
		}

		/**************** Accordion ****************/

		/*.container {
			height: 400px;
			display: flex;
			flex-wrap: nowrap;
			justify-content: start;
		}*/

		.card {
			width: 80px;
			border-radius: 2rem;
			background-size: cover;
			cursor: pointer;
			overflow: hidden;
			margin: 0 10px;
			display: flex;
			align-items: flex-end;
			transition: 0.6s cubic-bezier(0.28, -0.03, 0, 0.99);
			box-shadow: 0px 10px 30px -5px rgba(0, 0, 0, 0.8);
		}

		.card > .row {
			color: white;
			display: flex;
			flex-wrap: nowrap;
		}

		.card > .row > .icon {
			background: #223;
			color: white;
			border-radius: 50%;
			width: 50px;
			display: flex;
			justify-content: center;
			align-items: center;
			margin: 15px;
		}

		.card > .row > .description {
			display: flex;
			justify-content: center;
			flex-direction: column;
			overflow: hidden;
			height: 80px;
			width: 520px;
			opacity: 0;
			transform: translateY(30px);
			transition-delay: 0.3s;
			transition: all 0.3s ease;
		}

		input:checked + label {
			width: auto;
		}

		input:checked + label .description {
			opacity: 1 !important;
			transform: translateY(0) !important;
		}

		.card[for="c1"] {
			background-image: url("./convertible_design.webp");
		}
		.card[for="c2"] {
			background-image: url("./durable_build.webp");
		}
		.card[for="c3"] {
			background-image: url("./comfort_focused.webp");
		}
		.card[for="c4"] {
			background-image: url("./compact_and_stylish.webp");
		}
	</style>
</MainLayout>

<script>
	/* Import af Motion One biblioteket */
	import { animate, stagger, inView, scroll, timeline } from "motion";

	/**************** Slider/Hero ****************/
	const slides = document.querySelectorAll(".carousel-open");
	const bullets = document.querySelectorAll(".carousel-bullet");
	let currentSlide = 0;

	// Funktion til at navigere til et bestemt slide
	function goToSlide(index) {
		slides[currentSlide].checked = false;
		bullets.forEach((bullet) => bullet.setAttribute("aria-current", "false"));
		currentSlide = index;
		slides[currentSlide].checked = true;
		bullets[currentSlide].setAttribute("aria-current", "true");
	}

	// Tilføj event listeners til alle bullets
	bullets.forEach((bullet, index) => {
		bullet.addEventListener("click", () => goToSlide(index));
	});

	// Automatisk skift af slides hvert 8. sekund
	function nextSlide() {
		currentSlide = (currentSlide + 1) % slides.length;
		goToSlide(currentSlide);
	}

	setInterval(nextSlide, 8000); // Skift slide hvert 8. sekund

	/**************** Accordion ****************/
</script>
